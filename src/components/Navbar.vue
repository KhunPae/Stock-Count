<template>
  <div class="flex justify-between items-center mb-6 p-6 bg-white shadow">
    <div class="font-mali text-xl font-semibold text-black">
      ğŸ‘‹ à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸¸à¸“ {{ user?.name || user?.username || "" }}
    </div>

    <div class="flex gap-2 items-center">
      <!-- à¸›à¸¸à¹ˆà¸¡à¹„à¸›à¸«à¸™à¹‰à¸²à¸‚à¸²à¸¢à¸ªà¸´à¸™à¸„à¹‰à¸² -->
      <router-link
        v-if="!onSellPage"
        to="/sell"
        class="px-4 py-2 bg-purple-600 font-mali text-white rounded hover:bg-purple-700"
      >
        à¹€à¸›à¸´à¸”à¸«à¸™à¹‰à¸²à¸‚à¸²à¸¢à¸ªà¸´à¸™à¸„à¹‰à¸²
      </router-link>

      <!-- à¸–à¹‰à¸²à¸­à¸¢à¸¹à¹ˆà¸«à¸™à¹‰à¸² Sell à¹à¸¥à¹‰à¸§à¹à¸—à¸™à¸—à¸µà¹ˆà¸”à¹‰à¸§à¸¢à¸›à¸¸à¹ˆà¸¡à¸à¸¥à¸±à¸šà¸«à¸™à¹‰à¸² à¸ªà¸•à¹‡à¸­à¸ -->
      <router-link
        v-else
        to="/stock"
        class="px-4 py-2 bg-indigo-600 font-mali text-white rounded hover:bg-indigo-700"
        >à¸à¸¥à¸±à¸šà¹„à¸›à¸«à¸™à¹‰à¸²à¸ªà¸•à¹‡à¸­à¸</router-link
      >

      <!-- à¸›à¸¸à¹ˆà¸¡ admin -->
      <button
        v-if="isAdmin"
        @click="emit('manage-users')"
        class="bg-green-500 font-mali text-white px-4 py-2 rounded hover:bg-green-600"
      >
        à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸™à¸±à¸à¸‡à¸²à¸™
      </button>

      <!-- à¸›à¸¸à¹ˆà¸¡ logout -->
      <button
        @click="emit('logout')"
        class="bg-red-500 font-mali text-white px-4 py-2 rounded hover:bg-red-600"
      >
        Logout
      </button>
    </div>
  </div>
</template>

<script setup>
import { defineProps, defineEmits, computed } from "vue";
import { useRoute } from "vue-router";

const route = useRoute(); // âœ… à¹€à¸à¸´à¹ˆà¸¡à¸šà¸£à¸£à¸—à¸±à¸”à¸™à¸µà¹‰
const onSellPage = computed(() => route.path === "/sell");

const props = defineProps({
  user: Object,
  isAdmin: Boolean,
});

const emit = defineEmits(["logout", "manage-users"]);

</script>
